modüler şekilde yapılandırılmış bir analiz dosyaları var. 
bunlar agredator yapıdaki 
ile çağrılabiliyor.

----
Modül adı -  .py dosya adı -  Config Class Adı - Config Dosyası - 2025 ile Uyumlu Güncel Endpoint’ler -  Veri kaynağı - API Türü -  eklenecek Zorunlu Klasik Metrikler -  eklenecek Profesyonel Metrikler (öncelik: * yüksek / ** orta / *** düşük) -  Amaç -  Çıktı Türü -  Komut - Metot -  İş Tipi -  Paralel işlem Türü -  Gerekçe / Katkı - 
A. Trend & Momentum (TA) -  trend_moment.py -  TrendConfig - c_trend.py - /api/v3/klines, /api/v3/ticker/24hr, /api/v3/avgPrice, /fapi/v1/continuousKlines, /api/v3/ticker/price, /api/v3/ticker/bookTicker, /fapi/v1/klines, WebSocket <symbol>@kline_interval -  utils/binance_api/binance_a içindeki BinanceAggregator class - Spot Public -  EMA, RSI, MACD, Bollinger Bands, ATR + ADX (Directional Index), Stochastic RSI, Momentum Oscillator -  *Kalman Filter Trend, *Z-Score Normalization, **Wavelet Transform, **Hilbert Transform Slope, **Fractal Dimension Index (FDI) -  Fiyat yönü & momentum gücü -  Trend Score (0–1) -  /trend, /t - GET -  CPU-bound -  Batch -  Spot & futures trend uyuşması, daha sağlam momentum skoru - 
B. Piyasa Rejimi (Volatilite & Yapı) -  volat_regime.py -  VolatilityConfig - c_volat.py - /api/v3/klines, /fapi/v1/premiumIndex, /fapi/v1/fundingRate, /fapi/v1/indexPriceKlines, /fapi/v1/markPriceKlines, /api/v3/ticker/24hr -  utils/binance_api/binance_a içindeki BinanceAggregator class - Spot + Futures Public -  Historical Volatility, ATR, Bollinger Width + Variance Ratio Test, Range Expansion Index -  *GARCH(1,1), *Entropy Index, **Hurst Exponent, ***Regime Switching Model -  Trend / Range modu ayrımı -  Regime Label (Trend, Range) -  /regime, /rg - GET -  CPU-bound -  Batch -  Volatilite rejimi için implied–realized farkı ve premium yapısı gerek - 
C. Derivatives & Sentiment (Pozisyon Verileri) -  deriv_sentim.py -  DerivSentimentConfig - c_deriv.py - /fapi/v1/fundingRate, /fapi/v1/openInterestHist, /fapi/v1/longShortRatio, /fapi/v1/liquidationOrders, /fapi/v1/takerlongshortRatio, /fapi/v1/openInterest, /fapi/v1/allForceOrders, topLongShortPositionRatio / AccountRatio gibi varyantlar -  utils/binance_api/binance_a içindeki BinanceAggregator class - Futures Public -  Funding Rate, Open Interest (OI), Long/Short Ratio + OI Change Rate, Funding Rate Skew, Volume Imbalance Index -  *Liquidation Heatmap, **OI Delta Divergence, **Volatility Skew, ***Gamma Exposure -  Trader positioning & sentiment eğilimi -  Sentiment Score (-1→1) -  /sentiment, /s - GET -  I/O-bound + hafif hesap -  Async -  Likidasyon yoğunluğu ve gerçek yön eğilimi ölçümü için şart - 
D. Order Flow & Microstructure -  order_micros.py -  OrderFlowConfig - c_order.py - /fapi/v1/depth, /fapi/v1/trades, /fapi/v1/ticker/bookTicker, WebSocket <symbol>@aggTrade, /fapi/v1/aggTrades, WebSocket <symbol>@depth, <symbol>@kline_interval -  utils/binance_api/binance_a içindeki BinanceAggregator class - Futures Public -  Orderbook Imbalance, Spread, Market Buy/Sell Pressure + Trade Aggression Ratio, Slippage, Depth Elasticity -  *CVD (Cumulative Volume Delta), **Order Flow Imbalance Index (OFI), **Taker Dominance Ratio, ***Liquidity Density Map -  Anlık yön & likidite baskısı -  Liquidity Pressure Score (0–1) -  /flow, /f - GET -  Stream + CPU (karma) -  Stream -  Gerçek zamanlı microdata için websocket yeterli - 
E. Korelasyon & Lead-Lag (Liderlik Analizi) -  corr_lead.py -  CorrelationConfig - c_corr.py - /api/v3/klines, /fapi/v1/markPriceKlines, /api/v3/ticker/price, /api/v3/ticker/price?symbols=[…], /api/v3/ticker/bookTicker, WebSocket <symbol>@ticker -  utils/binance_api/binance_a içindeki BinanceAggregator class - Spot + Futures Public -  Pearson Corr, Beta, Rolling Covariance + Partial Correlation, Rolling Lead-Lag Delta -  *Granger Causality Test, *Dynamic Time Warping (DTW), **Canonical Correlation, ***Vector AutoReg (VAR) -  Coin’ler arası liderlik & yön takibi -  Correlation Lead-Lag Matrix -  /corr, /c - GET -  CPU + I/O karışık -  Batch -  Çoklu sembol korelasyon için mevcut yapılar yeterli - 
F. On-Chain & Makro (Opsiyonel) -  onchain.py -  OnChainConfig - c_onchain.py - Dış kaynaklar (Glassnode, CryptoQuant, Farside, Coinglass), ETF / Netflow API’leri (ör. coinglass.com/api/pro/netflow) -   - External Public -  Stablecoin Flow, CEX Inflow/Outflow, ETF Net Flow + Exchange Net Position Change, Realized Cap, NUPL -  *Net Realized Profit/Loss, *Exchange Whale Ratio, **MVRV Z-Score, ***SOPR -  Zincir üstü likidite & makro eğilim -  Macro Score (0–1) -  /macro, /ma - GET -  I/O-bound -  Async -  ETF & stablecoin akışlarını güncel çekmek için - 
G. Risk & Exposure Management -  risk_expos.py -  RiskExposureConfig - c_risk.py - /fapi/v1/liquidationOrders, /fapi/v1/premiumIndex, /api/v3/klines, /fapi/v1/account, /fapi/v1/positionRisk, /fapi/v2/account, /fapi/v2/balance, /api/v3/account, WebSocket userData stream -  utils/binance_api/binance_a içindeki BinanceAggregator class - Spot + Futures Public -  ATR Stop, Liquidation Zones, Max Drawdown + Volatility Targeting, Position Leverage Ratio -  *Value-at-Risk (VaR), *Expected Shortfall (CVaR), **Sharpe/Sortino Dynamic, ***ATR-based Adaptive Stop -  Risk kontrolü & sinyal güvenliği -  Risk Score (0–1) -  /risk,/r - GET -  CPU-bound -  Batch -  Gerçek pozisyon riski, kaldıraç ve VaR hesaplaması için - 
H. Market Micro Alpha (Tick-Level Alpha Factor) -  microalpha.py -  MicroAlphaConfig - c_micro.py - /fapi/v1/depth, /fapi/v1/trades, WebSocket <symbol>@trade, <symbol>@depth@100ms, /fapi/v1/ticker/price, /fapi/v1/ticker/bookTicker, /fapi/v1/aggTrades, WebSocket <symbol>@aggTrade, <symbol>@depth, <symbol>@kline_interval -  utils/binance_api/binance_a içindeki BinanceAggregator class - Futures Public (Real-Time) -  Tick Volume, Spread, Bid/Ask Imbalance, Trade Direction Ratio + Microprice, Quote Stability Index, Order Duration -  *Cumulative Volume Delta (CVD), *Order Flow Imbalance Index (OFI), *Microprice Deviation, **Market Impact Model (Kyle’s λ), **Latency Adjusted Flow Ratio, ***High-Frequency Z-score -  Gerçek zamanlı mikro-yapı yönü ve hacimsel alpha faktörü üretmek -  Micro Alpha Score (0–1) -  /micro, /mi - GET + WebSocket -  async -  Async -  Spread ve fiyat mikro-değişimi hesaplarını destekler - 
I. Portfolio Optimization & Allocation -  port_alloc.py -  PortfolioAllocConfig - c_portalloc.py - /api/v3/account, /fapi/v2/balance, /fapi/v2/account, /fapi/v2/positionRisk, /api/v3/klines, /fapi/v1/balance, /fapi/v1/positionRisk, WebSocket userData stream -  utils/binance_api/binance_a içindeki BinanceAggregator class - Private -  Sharpe Ratio, Correlation Matrix, VaR + Conditional Beta, Sortino Ratio, Drawdown Correlation -  *Black-Litterman Model, **Hierarchical Risk Parity (HRP), ***Risk Parity -  Dinamik portfolio optimizasyonu -  Allocation Weights -  /allocate, /al - GET -  CPU-bound -  Batch -  Portföy volatilitesi ve kovaryans hesabı için fiyat geçmişi gerek - 
J. Regime Change Detection & Anomaly -  regime_anomal.py -  RegimeAnomalyConfig - ❌ Hayır (içeride tanımla) - /api/v3/klines, /fapi/v1/openInterestHist, /fapi/v1/fundingRate, /fapi/v1/markPriceKlines, /fapi/v1/openInterest, WebSocket <symbol>@markPriceUpdate -  utils/binance_api/binance_a içindeki BinanceAggregator class - Spot + Futures -  Z-Score, Rolling Mean/Std + Rolling Skewness/Kurtosis, Cumulative Return Deviation -  *Changepoint Detection (CUSUM), **Isolation Forest, ***Spectral Residual -  Ani değişim ve anomaly tespiti -  Anomaly Score (0-1) -  /redet, /rd - GET -  async -  Async -  Rejim değişimi tespitinde OI ve funding değişimi faydalı - 
---



Her modül kendi içinde farklı metrikler ve sinyaller üretiyor
bunların bazıları **birleştirilerek bileşik skorlar (composite score)** üretilebilir mi

Aşağıda **bileşik skor üretimi için önerilebilecek bazı kombinasyonlar** yer alıyor. 
Her bir skorun adı, hangi modüllerden oluştuğu ve hangi amacı taşıdığı detaylı şekilde verilmiştir.

BUNLARI İNCELE ANLAMLI MI,
ÖNERİN TAVSİYEN VAR MI
---

### 🔴 1. **Trend Strength Score**

**Amaç:** Fiyat yönü ve momentum gücünü daha sağlam ölçmek
**Modüller:**

* A. Trend & Momentum
* B. Piyasa Rejimi
* C. Derivatives & Sentiment
* D. Order Flow & Microstructure

**Gerekçe:**

* A: Fiyatın teknik yönü
* B: Rejim analizi → trend mi, range mi?
* C: Trader'ların pozisyonu
* D: Gerçek zamanlı alım-satım baskısı

**Skor Adı:** `trend_strength_score` (0-1 arası)

---

### 🟡 2. **Buy Opportunity Score (elma)**

**Amaç:** Potansiyel alım fırsatlarını belirlemek (teknik + duyarlılık temelli)
**Modüller:**

* A. Trend & Momentum
* C. Derivatives & Sentiment
* D. Order Flow
* E. Korelasyon & Lead-Lag

**Gerekçe:**

* A: Trend ve momentumun yönü
* C: Sentiment olumlu mu?
* D: Gerçek zamanlı alım baskısı var mı?
* E: Lider coinler ile korelasyon pozitif mi?

**Skor Adı:** `buy_opportunity_score` (0–1)

---

### 🟠 3. **Risk Exposure Score (armut)**

**Amaç:** Mevcut durumda pozisyon almak ne kadar riskli?
**Modüller:**

* B. Piyasa Rejimi
* F. On-Chain & Makro
* G. Risk & Exposure
* J. Regime Change Detection

**Gerekçe:**

* B: Volatilite yüksek mi?
* F: Zincir üstü çıkışlar / ETF çıkışları var mı?
* G: Mevcut pozisyonların risk seviyesi
* J: Rejimsel değişiklik / anomali sinyali var mı?

**Skor Adı:** `risk_exposure_score` (0–1, 1 = yüksek risk)

---

### 🟢 4. **Macro + Sentiment Composite Score**

**Amaç:** Orta–uzun vadeli yön ve eğilim (duyarlılık + makro birleşimi)
**Modüller:**

* C. Derivatives & Sentiment
* F. On-Chain & Makro
* E. Korelasyon & Lead-Lag

**Skor Adı:** `macro_sentiment_score`

---

### 🔵 5. **Liquidity Pressure Index**

**Amaç:** Gerçek zamanlı likidite ve hacim baskısını ölçmek
**Modüller:**

* D. Order Flow & Microstructure
* H. Market Micro Alpha

**Gerekçe:**

* D: Emir defteri dengesi, alım/satım baskısı
* H: Tick seviyesinde mikro alpha faktörleri

**Skor Adı:** `liquidity_pressure_index` (0–1)

---

### ⚫ 6. **Portfolio Optimization Signal**

**Amaç:** Varlık ağırlıklarının optimize edilmesi
**Modüller:**

* I. Portfolio Optimization
* E. Korelasyon & Lead-Lag
* G. Risk & Exposure

**Skor Adı:** `optimal_allocation_weights` (dizi, örn: {BTC: 0.3, ETH: 0.2...})

---

### ⚪ 7. **Anomaly Detection Alert Score**

**Amaç:** Beklenmedik durumlar, ani değişimler
**Modüller:**

* J. Regime Change Detection
* C. Derivatives & Sentiment
* G. Risk & Exposure

**Skor Adı:** `anomaly_alert_score` (0–1)

---

## 🔄 Bileşik Skorlar İçin Yöntem Önerisi

Skorları birleştirirken aşağıdaki yöntemler kullanılabilir:

* **Normalize Edilmiş Ortalama** (z-score veya min-max normalizasyonu)
* **Ağırlıklı Ortalama:** Önceliklendirmeye göre (örn. Trend daha ağır basıyorsa `0.4*A + 0.3*C + 0.2*D + 0.1*E`)
* **PCA / Feature Reduction:** İstatistiksel yaklaşım (gerekirse)
* **Model Tabanlı Ensemble:** (örneğin bir sinyal makinesi)

---

## ❓ Örnek API Komutları

```bash
GET /composite/trend_strength?symbol=BTCUSDT
GET /composite/risk_exposure?symbol=BTCUSDT
GET /composite/buy_opportunity?symbol=BTCUSDT
GET /composite/liquidity_pressure?symbol=BTCUSDT
GET /composite/optimal_allocation
```

---

İsterseniz bu bileşik skorlar için örnek bir Python kod yapısı da oluşturabilirim. İlginizi çeker mi?

